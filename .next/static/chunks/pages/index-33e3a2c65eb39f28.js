(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{6181:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>z});var r=n(7876),s=n(9556),a=n.n(s),o=n(3316),l=n.n(o),i=n(7853),d=n(4232),c=n(1138),u=n(9518),h=n(9241),x=n(9573);function f(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,x.QP)((0,h.$)(t))}let m=(0,u.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function v(e){let{className:t,variant:n,size:s,asChild:a=!1,...o}=e,l=a?c.DX:"button";return(0,r.jsx)(l,{"data-slot":"button",className:f(m({variant:n,size:s,className:t})),...o})}function g(e){let t=e.getType();return"code-block"===t?"custom-code-block":"blockquote"===t?"custom-blockquote":""}n(3744);let p=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}];function b(e){let{value:t,onChange:n,className:s,style:a,renderToolbar:o}=e,[l,c]=(0,d.useState)(null),u=void 0!==t&&void 0!==n;(0,d.useEffect)(()=>{let e;try{if(t){let n=JSON.parse(t),r=(0,i.convertFromRaw)(n);e=i.EditorState.createWithContent(r)}else e=i.EditorState.createEmpty()}catch(r){let n=i.ContentState.createFromText(t||"");e=i.EditorState.createWithContent(n)}c(e)},[]);let x=(0,d.useCallback)(e=>{c(e),u&&n&&n(JSON.stringify((0,i.convertToRaw)(e.getCurrentContent())))},[u,n]),f=(0,d.useCallback)(e=>{l&&x(i.RichUtils.toggleInlineStyle(l,e))},[l,x]),m=(0,d.useCallback)(e=>{l&&x(i.RichUtils.toggleBlockType(l,e))},[l,x]);if(!l)return null;let b=l.getCurrentInlineStyle();return(0,r.jsxs)("div",{className:(0,h.A)("rounded border p-4 space-y-2",s),style:a,children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:o?o({editorState:l,toggleInlineStyle:f,toggleBlockType:m}):p.map(e=>(0,r.jsx)(v,{variant:b.has(e.style)?"default":"outline",size:"sm",onMouseDown:t=>{t.preventDefault(),f(e.style)},children:e.label},e.style))}),(0,r.jsx)("div",{className:"min-h-[150px] p-2 border rounded cursor-text",children:(0,r.jsx)(i.Editor,{editorState:l,onChange:x,blockStyleFn:g})})]})}function j(e){let{editorState:t,toggleInlineStyle:n,toggleBlockType:s}=e,a=t.getCurrentInlineStyle(),o=function(e){let t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()}(t);return(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsx)(v,{variant:a.has("BOLD")?"default":"outline",size:"sm",onMouseDown:e=>{e.preventDefault(),n("BOLD")},children:"Bold"}),(0,r.jsx)(v,{variant:a.has("ITALIC")?"default":"outline",size:"sm",onMouseDown:e=>{e.preventDefault(),n("ITALIC")},children:"Italic"}),(0,r.jsx)(v,{variant:"unordered-list-item"===o?"default":"outline",size:"sm",onMouseDown:e=>{e.preventDefault(),s("unordered-list-item")},children:"UL"}),(0,r.jsx)(v,{variant:"blockquote"===o?"default":"outline",size:"sm",onMouseDown:e=>{e.preventDefault(),s("blockquote")},children:"Blockquote"}),(0,r.jsx)(v,{variant:"code-block"===o?"default":"outline",size:"sm",onMouseDown:e=>{e.preventDefault(),s("code-block")},children:"Code"})]})}function y(e){let{className:t,...n}=e;return(0,r.jsx)("div",{"data-slot":"card",className:f("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...n})}function w(e){let{className:t,...n}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:f("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...n})}function k(e){let{className:t,...n}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:f("leading-none font-semibold",t),...n})}function N(e){let{className:t,...n}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:f("text-muted-foreground text-sm",t),...n})}function C(e){let{className:t,...n}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:f("px-6",t),...n})}let S=()=>(0,r.jsxs)(y,{children:[(0,r.jsxs)(w,{children:[(0,r.jsx)(k,{children:"WYSIWYG Editor with Custom Toolbar"}),(0,r.jsx)(N,{children:"This editor allows you to customize the toolbar with your own buttons."})]}),(0,r.jsx)(C,{children:(0,r.jsx)(b,{renderToolbar:e=>{let{editorState:t,toggleInlineStyle:n,toggleBlockType:s}=e;return(0,r.jsx)(j,{editorState:t,toggleInlineStyle:n,toggleBlockType:s})}})})]});function E(e){let{className:t,...n}=e;return(0,r.jsx)("div",{"data-slot":"skeleton",className:f("bg-accent animate-pulse rounded-md",t),...n})}let D=()=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(E,{className:"h-8 w-32"}),(0,r.jsx)(E,{className:"h-[150px]"})]}),T=()=>{let{loading:e,controlledContent:t,setControlledContent:n,handleSave:s}=function(){let[e,t]=(0,d.useState)(!0),[n,r]=(0,d.useState)("");(0,d.useEffect)(()=>{(async()=>{t(!0),fetch("api/hello").then(e=>e.json()).then(e=>{r(e.name)}).catch(e=>{console.error("Error fetching content:",e)}).finally(()=>{t(!1)})})()},[]);let s=async()=>{fetch("/api/hello",{method:"POST",headers:{"Content-Type":"application/json"},body:n}),await new Promise(e=>setTimeout(e,1e3)),alert("Content saved (simulated)")};return{loading:e,controlledContent:n,setControlledContent:r,handleSave:s}}();return(0,r.jsxs)(y,{children:[(0,r.jsx)(w,{children:(0,r.jsx)(k,{children:"Controlled WYSIWYG Editor"})}),(0,r.jsx)(C,{className:"space-y-4",children:e?(0,r.jsx)(D,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b,{value:t,onChange:n}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(v,{onClick:s,children:"Save Content"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold",children:"Serialized Content:"}),(0,r.jsx)("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto",children:t})]})]})})]})},_=()=>(0,r.jsxs)(y,{children:[(0,r.jsx)(w,{children:(0,r.jsx)(k,{children:"Uncontrolled WYSIWYG Editor"})}),(0,r.jsx)(C,{children:(0,r.jsx)(b,{})})]});function I(){return(0,r.jsxs)("div",{className:"container mx-auto py-8 space-y-10",children:[(0,r.jsx)(T,{}),(0,r.jsx)(_,{}),(0,r.jsx)(S,{})]})}function z(){return(0,r.jsx)("div",{className:"".concat(a().className," ").concat(l().className," grid items-center justify-items-center min-h-screen gap-16 font-[family-name:var(--font-geist-sans)]"),children:(0,r.jsx)("main",{className:"flex flex-col gap-[32px] items-center sm:items-start",children:(0,r.jsx)(I,{})})})}},6760:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6181)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[453,636,593,792],()=>t(6760)),_N_E=e.O()}]);